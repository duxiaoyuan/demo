<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="wuziqi/js/jquery 3.4.1.js"></script>
		<script src="wuziqi/js/board.js"></script>
	</head>

	<body onload="loadInfo()">
		<div id="main">
			<div id="left">
				<canvas id="myCanvas" width="640" height="640" onmousedown="play(event)"></canvas>
			</div>
		</div>

		<form id="fo" action="" method="post">
			<input name="chess.chess_id" type="text" />
			<input name="chess.startTime" type="text" />
			<input name="chess.endTime" type="text" />
			<input name="chess.b_user_id" type="text" />
			<input name="chess.w_user_id" type="text" />
			<input name="chess.step" type="text" />
			<!--<input name="pieces.x" type="text">
		  <input name="pieces.y" type="text">
		  <input name="pieces.isWhite" type="text">-->
			<input value="提交" onclick="refer()" type="button">
		</form>
		<script>
			function refer() {
				var chess = $("#fo").serialize();
				var param = {"chess":"chess"};
				$.ajax({
					type: "post",
					url: "http://localhost:8080/chess/moveInChess",
					data: param,
					dataType: "jsonp",
					contentType: "application/x-www-form-urlencoded; charset=UTF-8",
					async: false,
					cache: false,
					success: function(response) {
						//扩展回调函数
						if(callback != null) {
							callback(response);
						}
					},
					error: function() {
						alert("服务器发生错误");
					}
				});
			}
			
		</script>

	</body>

</html>